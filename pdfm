#!/data/data/com.termux/files/usr/bin/python
import base64
exec(base64.b64decode('CmZyb20gZnBkZiBpbXBvcnQgRlBERgppbXBvcnQgb3MKaW1wb3J0IHN1YnByb2Nlc3MKCmRlZiBjcmVhdGVfcGRmKCk6CiAgICBmaWxlc19pbnB1dCA9IGlucHV0KCJFbnRlciB0aGUgZmlsZXMgKGltYWdlcyBhbmQgdHh0IGZpbGVzKTogIikuc3BsaXQoKQogICAgb3V0cHV0X3BkZiA9IGlucHV0KCJFbnRlciB0aGUgbmFtZSBvZiB0aGUgb3V0cHV0IFBERiBmaWxlOiAiKQoKICAgIHBkZiA9IEZQREYoKQogICAgcGRmLnNldF9hdXRvX3BhZ2VfYnJlYWsoYXV0bz1UcnVlLCBtYXJnaW49MTUpCiAgICAKICAgIGltYWdlX2ZpbGVzID0gW10KICAgIHRleHRfZmlsZXMgPSBbXQogICAgZm9yIGZpbGUgaW4gZmlsZXNfaW5wdXQ6CiAgICAgICAgaWYgZmlsZS5sb3dlcigpLmVuZHN3aXRoKCgnLnBuZycsICcuanBnJywgJy5qcGVnJykpIGFuZCBvcy5wYXRoLmlzZmlsZShmaWxlKToKICAgICAgICAgICAgaW1hZ2VfZmlsZXMuYXBwZW5kKGZpbGUpCiAgICAgICAgZWxpZiBmaWxlLmxvd2VyKCkuZW5kc3dpdGgoJy50eHQnKSBhbmQgb3MucGF0aC5pc2ZpbGUoZmlsZSk6CiAgICAgICAgICAgIHRleHRfZmlsZXMuYXBwZW5kKGZpbGUpCgogICAgIyBBZGQgZmlsZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBwcm92aWRlZAogICAgZm9yIGZpbGUgaW4gZmlsZXNfaW5wdXQ6CiAgICAgICAgaWYgZmlsZSBpbiBpbWFnZV9maWxlczoKICAgICAgICAgICAgcGRmLmFkZF9wYWdlKCkKICAgICAgICAgICAgcGRmLnNldF9mb250KCJBcmlhbCIsIHNpemU9MTIpCiAgICAgICAgICAgIHBkZi5jZWxsKDIwMCwgMTAsIGxuPVRydWUsIGFsaWduPSJDIikKICAgICAgICAgICAgcGRmLmltYWdlKGZpbGUsIHg9MTAsIHk9MjAsIHc9MTgwKQogICAgICAgIGVsaWYgZmlsZSBpbiB0ZXh0X2ZpbGVzOgogICAgICAgICAgICBwZGYuYWRkX3BhZ2UoKQogICAgICAgICAgICBwZGYuc2V0X2ZvbnQoIkFyaWFsIiwgc2l6ZT0xMikKICAgICAgICAgICAgcGRmLmNlbGwoMjAwLCAxMCwgbG49VHJ1ZSwgYWxpZ249IkMiKQogICAgICAgICAgICB3aXRoIG9wZW4oZmlsZSwgInJiIikgYXMgZjoKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBmLnJlYWQoKQogICAgICAgICAgICAgICAgcGRmLm11bHRpX2NlbGwoMCwgMTAsIHR4dD1jb250ZW50LmRlY29kZSgidXRmLTgiKSkKCiAgICBwZGYub3V0cHV0KG91dHB1dF9wZGYpCiAgICBpZiBvcy5wYXRoLmlzZmlsZShvdXRwdXRfcGRmKToKICAgICAgICBwcmludCgiUERGIGZpbGUgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQiKQogICAgZWxzZToKICAgICAgICBwcmludCgiUERGIGZpbGUgY3JlYXRpb24gZmFpbGVkIikKCiMgRXhlY3V0ZSB0aGUgY29tbWFuZCBhbmQgY2xlYXIgdGhlIHRlcm1pbmFsCm9zLnN5c3RlbSgnY2xlYXInKQpzdWJwcm9jZXNzLnJ1bigiZmlnbGV0IFBERm1ha2VyIHwgbG9sY2F0Iiwgc2hlbGw9VHJ1ZSkKCiMgVXNhZ2UgZXhhbXBsZQpjcmVhdGVfcGRmKCkK').decode())
